---
interface Props {
    name: string;
    isSpecial?: boolean;
    bgColor?: string;
    badgeText?: string;
}

const {
    name,
    isSpecial = false,
    bgColor = "#ffe08a",
    badgeText = "Special",
} = Astro.props;
---

<div
    class={`category-section mb-12 last:mb-0 transition-all duration-300 p-6 border-l-4 ${
        isSpecial ? "special-category border-secondary" : "border-white/10"
    }`}
    style={isSpecial
        ? `background-color: ${bgColor}15;`
        : "background-color: rgba(255,255,255,0.02);"}
>
    <div class="flex flex-col md:flex-row md:items-center gap-3 md:gap-4 mb-8">
        <h2
            class={`text-2xl md:text-3xl uppercase tracking-tighter ${
                isSpecial ? "text-secondary" : "text-white"
            }`}
        >
            {name}
        </h2>
        <div class="flex items-center gap-4 w-full md:w-auto md:flex-grow">
            {
                isSpecial && (
                    <span class="bg-secondary text-black text-[10px] font-bold uppercase py-1 px-2 tracking-widest animate-pulse shrink-0">
                        {badgeText}
                    </span>
                )
            }
            <div
                class={`h-[1px] w-full flex-grow ${
                    isSpecial ? "bg-secondary/30" : "bg-white/10"
                }`}
            >
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 gap-6">
        <slot />
    </div>
</div>

<style>
    .special-category {
        box-shadow: 0 10px 30px -15px rgba(255, 224, 138, 0.1);
    }
</style>
