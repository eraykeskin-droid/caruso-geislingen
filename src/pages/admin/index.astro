---
import Layout from "../../layouts/Layout.astro";
import AdminAuth from "../../components/admin/AdminAuth";
import ReservationManager from "../../components/admin/ReservationManager";
import MenuManager from "../../components/admin/MenuManager";
---

<Layout title="Admin Panel">
    <AdminAuth client:only="react">
        <div class="p-6">
            <div class="max-w-7xl mx-auto">
                <div class="mb-12">
                    <h1
                        class="text-3xl md:text-5xl uppercase tracking-tighter mb-4"
                    >
                        Dashboard
                    </h1>
                    <p class="text-gray-500">
                        Zentralverwaltung für Getränke und Reservierungen
                    </p>
                </div>

                <!-- Tabs -->
                <div
                    class="flex gap-8 border-b border-white/10 mb-8"
                    id="adminTabs"
                >
                    <button
                        class="pb-4 text-xs uppercase tracking-widest font-bold text-secondary border-b-2 border-secondary"
                        data-tab="menu">Getränkekarte</button
                    >
                    <button
                        class="pb-4 text-xs uppercase tracking-widest font-bold text-gray-500 hover:text-white transition-colors"
                        data-tab="reservations">Reservierungen</button
                    >
                </div>

                <!-- Content Area -->
                <div id="tabContent">
                    <div id="menuContent" class="tab-pane">
                        <MenuManager client:only="react" />
                    </div>
                    <div id="reservationsContent" class="tab-pane hidden">
                        <ReservationManager client:only="react" />
                    </div>
                </div>
            </div>
        </div>
    </AdminAuth>
</Layout>

<script>
    const tabs = document.querySelectorAll("[data-tab]");
    const panes = document.querySelectorAll(".tab-pane");

    tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
            const target = tab.getAttribute("data-tab");

            // Update tabs
            tabs.forEach((t) => {
                t.classList.remove(
                    "text-secondary",
                    "border-secondary",
                    "border-b-2"
                );
                t.classList.add("text-gray-500");
            });
            tab.classList.add(
                "text-secondary",
                "border-secondary",
                "border-b-2"
            );
            tab.classList.remove("text-gray-500");

            // Update content
            panes.forEach((p) => p.classList.add("hidden"));
            document
                .getElementById(`${target}Content`)
                ?.classList.remove("hidden");
        });
    });
</script>

<style></style>
